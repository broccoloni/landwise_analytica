(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7225:function(e,a,s){Promise.resolve().then(s.bind(s,3475))},3475:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return V}});var t=s(7437),l=s(8022),c=s.n(l),i=s(9436),r=s.n(i),n=s(8693),d=s.n(n),o=s(2265),m=e=>{let{children:a,className:s}=e;return(0,t.jsx)("div",{className:"bg-white ".concat(s," rounded-lg border p-8"),children:a})},x=e=>{let{addressComponents:a,latitude:s,longitude:l}=e;return a?(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("p",{className:"mr-4",children:"Address:"}),(0,t.jsxs)("p",{children:[a.street_number," ",a.route]})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("p",{className:"mr-4",children:"Locality:"}),(0,t.jsx)("p",{children:a.locality})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("p",{className:"mr-4",children:"Postal Code:"}),(0,t.jsx)("p",{children:a.postal_code})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("p",{className:"mr-4",children:"State / Province:"}),(0,t.jsx)("p",{children:a.administrative_area_level_1})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("p",{className:"mr-4",children:"County:"}),(0,t.jsx)("p",{children:a.administrative_area_level_2})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("p",{className:"mr-4",children:"Country:"}),(0,t.jsx)("p",{children:a.country})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("p",{className:"mr-4",children:"Longitude:"}),(0,t.jsx)("p",{children:l})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("p",{className:"mr-4",children:"Latitude:"}),(0,t.jsx)("p",{children:s})]})]}):null},u=s(7818);let h=(0,u.default)(()=>Promise.all([s.e(934),s.e(8)]).then(s.bind(s,2008)),{loadableGenerated:{webpack:()=>[2008]},ssr:!1});var v=()=>{let e=["Estimated Yield","Climate","Topography","Soil"],a=[96,92,86,90],s=a.reduce((e,a)=>e+a,0)/a.length,l=[...a,a[0]],i=[...e,e[0]];return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-2xl"),children:"Score: ".concat(Math.round(s),"%")}),(0,t.jsx)("div",{className:"",style:{height:"300px"},children:(0,t.jsx)(h,{data:[{type:"scatterpolar",r:l,theta:i,fill:"toself",marker:{color:"var(--accent)"},line:{shape:"spline",smoothing:.8,color:"var(--accent)",width:3},fillcolor:"rgba(0,0,0, 0.1)",hoverinfo:"none"}],layout:{polar:{radialaxis:{visible:!0,range:[0,100],tickfont:{size:14,color:"#333",family:c().style.fontFamily},gridcolor:"#ccc"},angularaxis:{tickfont:{size:14,color:"#444",family:c().style.fontFamily},linecolor:"#888"}},margin:{t:30,l:160,r:120,b:30},showlegend:!1,paper_bgcolor:"#fff",plot_bgcolor:"#f5f5f5",dragmode:!1},useResizeHandler:!0,style:{width:"100%",height:"100%"}})})]})},j=e=>{let{options:a,selected:s,onSelect:l,className:c}=e,[i,r]=(0,o.useState)(!1),n=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=e=>{n.current&&!n.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.jsxs)("div",{className:"relative inline-block z-10 ".concat(c),ref:n,children:[(0,t.jsxs)("button",{onClick:()=>r(!i),className:"flex items-center p-2 bg-gray-200 text-black rounded focus:outline-none",children:[s,(0,t.jsx)("span",{className:"flex justify-center items-center ml-2 pl-2",children:(0,t.jsx)("span",{className:"w-0 h-0 border-l-4 border-l-transparent border-t-4 border-t-black border-r-4 border-r-transparent"})})]}),i&&(0,t.jsx)("ul",{className:"absolute z-10 min-w-24 bg-white border border-gray-300 rounded shadow-lg mt-1",children:a.map((e,s)=>(0,t.jsx)("li",{onClick:()=>{l(e),r(!1)},className:"p-2 cursor-pointer hover:bg-accent-medium hover:text-white border-b border-gray-300 ".concat(s===a.length-1?"border-b-0":""),children:e},e))})]})},b=s(3274);function f(){return(0,t.jsx)("div",{className:"flex justify-center h-full w-full my-20",children:(0,t.jsx)(b.Z,{className:"h-20 w-20 animate-spin text-black"})})}var N=s(8579),g=s.n(N),y=e=>{let{vmin:a,vmax:s,numIntervals:l=5,heatmapColors:c}=e,i=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=i.current;if(!e){console.error("Canvas element not found");return}let t=e.getContext("2d");if(!t)throw Error("Failed to get canvas 2D context");let l=g().scale(c).domain([s,a]);for(let c=0;c<e.height;c++){let i=l(a+c/e.height*(s-a)).hex();t.fillStyle=i,t.fillRect(0,c,e.width,1)}},[a,s,c]);let r=((e,a,s)=>{let t=(a-e)/(s-1),l=[];for(let a=0;a<s;a++)l.push(e+a*t);return l})(a,s,l);return(0,t.jsxs)("div",{className:"flex justify-center items-center",children:[(0,t.jsx)("canvas",{ref:i,width:30,height:300,className:"border border-gray-300"}),(0,t.jsx)("div",{className:"flex flex-col justify-between ml-2 h-full",children:r.reverse().map((e,a)=>(0,t.jsx)("span",{children:e>5?e.toFixed(1):e.toFixed(5)},a))})]})},p=e=>{let{headers:a,data:s}=e;return(0,t.jsxs)("table",{className:"min-w-full border-collapse mb-4",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:a.map((e,a)=>(0,t.jsx)("th",{className:"".concat(r().className," px-4 py-2 font-normal text-right"),children:e},a))})}),(0,t.jsx)("tbody",{children:s.map((e,a)=>(0,t.jsx)("tr",{children:Object.values(e).map((e,a)=>(0,t.jsx)("td",{className:"px-4 py-2 text-right",children:e},a))},a))})]})};let w=["Flaxseed","Wheat","Barley","Oats","Canola","Peas","Corn","Soy"],S=e=>{let a=e.filter(e=>null!==e);return 0===a.length?0:a.reduce((e,a)=>e+a,0)/a.length},k=e=>{let a=e.filter(e=>null!==e);if(0===a.length)return 0;let s=S(a);return Math.sqrt(a.reduce((e,a)=>e+Math.pow(a-s,2),0)/a.length)},F=["black","red","yellow","white"],C=["#6A0DAD","#228B22","#FFD700","#8B0000"],D=(0,u.default)(()=>Promise.all([s.e(934),s.e(8)]).then(s.bind(s,2008)),{loadableGenerated:{webpack:()=>[2008]},ssr:!1}),E=(0,u.default)(()=>Promise.all([s.e(733),s.e(212),s.e(169)]).then(s.bind(s,9020)),{loadableGenerated:{webpack:()=>[9020]},ssr:!1});var P=e=>{let{lat:a,lng:s,historicData:l,projectedData:c,cropHeatMapData:i,bbox:n,score:m,setScore:x}=e,[u,h]=(0,o.useState)({});(0,o.useEffect)(()=>{let e=Object.values(u).map(Number);3===e.length&&x(Math.round(S(e)))},[u]);let[v,b]=(0,o.useState)("Flaxseed"),[N,g]=(0,o.useState)(null),[k,C]=(0,o.useState)("Flaxseed"),[P,M]=(0,o.useState)(null);return(0,o.useEffect)(()=>{c&&v&&g(c[v])},[v,c]),(0,o.useEffect)(()=>{i&&k&&M(i[k])},[k,i]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"".concat(d().className," flex text-accent-dark text-2xl pb-2"),children:[(0,t.jsx)("div",{className:"",children:"Estimated Yield"}),m&&(0,t.jsxs)("div",{className:"",children:[" - ",m,"%"]})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg "),children:"Estimated Historic Yield"}),l&&n?(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"w-[40%] mt-8 p-4",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 mx-4"),children:"Performance Comparison"}),(0,t.jsxs)("div",{className:"flex justify-between mb-2 mx-4",children:[(0,t.jsx)("div",{className:"",children:"Predominant Crops Grown:"}),(0,t.jsx)("div",{children:l.cropsGrown.join(", ")})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2 mx-4",children:[(0,t.jsx)("div",{className:"",children:"Average Property Yield Relative to Neighbourhood (%):"}),(0,t.jsx)("div",{className:"",children:"".concat(Math.round(l.avgNePerf)," \xb1 ").concat(Math.round(l.stdNePerf))})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2 mx-4",children:[(0,t.jsx)("div",{className:"",children:"Average Property Yield Relative to National (%):"}),(0,t.jsx)("div",{className:"",children:"".concat(Math.round(l.avgNaPerf)," \xb1 ").concat(Math.round(l.stdNaPerf))})]})]}),(0,t.jsx)("div",{className:"w-[60%]",children:(0,t.jsxs)("div",{className:"flex-row justify-center items-center w-full",children:[(0,t.jsx)("div",{className:"".concat(r().className," w-full text-center"),children:"Estimated Historic Yield"}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(D,{data:[{x:l.labels,y:l.property,name:"Property",type:"bar",marker:{color:"#708090"}},{x:l.labels,y:l.neighbourhood,name:"Neighbourhood",type:"bar",marker:{color:"#8FBC8F"}},{x:l.labels,y:l.national,name:"National",type:"bar",marker:{color:"#B0C4DE"}}],layout:{barmode:"group",xaxis:{title:"Year & Crop Grown",tickangle:-45},yaxis:{title:"Yield (Bushels/Acre)"},legend:{title:{text:"Administrative Level"}},margin:{t:0,b:100,l:50,r:0}},useResizeHandler:!0,style:{width:"100%",height:"100%"}})})]})})]}):(0,t.jsx)(f,{})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg "),children:"Estimated Projected Yield"}),N&&n?(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-[44%] mt-8 p-4",children:(0,t.jsx)(()=>{if(!c)return null;let e=Object.keys(c).sort((e,a)=>c[a].avgPerf-c[e].avgPerf).map((e,a)=>({rank:a+1,crop:e,neighbourhoodPerf:"".concat(Math.round(c[e].avgNePerf)," \xb1 ").concat(Math.round(c[e].stdNePerf)),nationalPerf:"".concat(Math.round(c[e].avgNaPerf)," \xb1 ").concat(Math.round(c[e].stdNaPerf))}));return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 ml-4"),children:"Average Relative Future Property Yield"}),(0,t.jsx)(p,{headers:["Rank","Crop","Average Property Yield Relative to Neighbourhood (%)","Average Property Yield Relative to National (%)"],data:e})]})},{})}),(0,t.jsx)("div",{className:"w-[56%]",children:(0,t.jsxs)("div",{className:"flex-row justify-center items-center w-full",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-4"),children:"Estimated Projected Yield for:"}),(0,t.jsx)(j,{options:w,selected:v,onSelect:b})]}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(D,{style:{width:"100%",height:"100%"},className:"mt-0",data:[{x:N.years,y:N.property,mode:"lines+markers",name:"Property",line:{color:"blue"}},{x:N.years,y:N.neighbourhood,mode:"lines+markers",name:"Neighbourhood",line:{color:"green"}},{x:N.years,y:N.national,mode:"lines+markers",name:"National",line:{color:"red"}}],layout:{xaxis:{title:"Year"},yaxis:{title:"Yield (Bushels/Acre)"},margin:{t:10,b:50,l:50,r:0},shapes:[{type:"line",x0:2024,x1:2024,y0:0,y1:1,xref:"x",yref:"paper",line:{color:"grey",dash:"dash"}}]}})})]})})]}):(0,t.jsx)(f,{})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg "),children:"Yield Consistency Across Property"}),P&&n?(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-[40%] mt-8 p-4",children:(0,t.jsx)(()=>{if(!i)return null;let e=Object.keys(i).sort((e,a)=>i[e].variation-i[a].variation).map((e,a)=>({rank:a+1,crop:e,average:"".concat(i[e].avg.toFixed(2)," \xb1 ").concat(i[e].std.toFixed(2)),variation:"".concat((100*i[e].variation).toFixed(2))}));return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 mx-4"),children:"Average Yield Across Property"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(p,{headers:["Rank","Crop","Average (Bushels/Acre)","Variation (%)"],data:e})})]})},{})}),(0,t.jsx)("div",{className:"w-[60%]",children:(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center h-16",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-4"),children:"Yield Heatmap for:"}),(0,t.jsx)(j,{options:w,selected:k,onSelect:C})]}),(0,t.jsx)(E,{latitude:a,longitude:s,zoom:15,bbox:n,imageUrl:P.imageUrl})]}),(0,t.jsxs)("div",{className:"flex-row ml-2 justify-start items-center mt-16",children:[(0,t.jsx)("div",{className:"".concat(d().className," text-center"),children:"Yield"}),(0,t.jsx)("div",{className:"mb-2",children:"(Bushels/Acre)"}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(y,{vmin:P.min,vmax:P.max,numIntervals:5,heatmapColors:F})})]})]})})]}):(0,t.jsx)(f,{})]})]})},M=s(14),A=s(2170),O=s.n(A);let T=(0,u.default)(()=>Promise.all([s.e(934),s.e(8)]).then(s.bind(s,2008)),{loadableGenerated:{webpack:()=>[2008]},ssr:!1});var G=e=>{let{lat:a,lng:s,heatUnitData:l,growingSeasonData:c,climateData:i,score:n,setScore:m}=e,[x,u]=(0,o.useState)({});(0,o.useEffect)(()=>{let e=Object.values(x).map(Number);3===e.length&&m(Math.round(S(e)))},[x]);let[h,v]=(0,o.useState)(null),[j,b]=(0,o.useState)(null),[N,g]=(0,o.useState)([90,243]),[y,w]=(0,o.useState)({precip:"",temp:"",dew:""}),[F,C]=(0,o.useState)(null),[D,E]=(0,o.useState)(null),P=(e,a)=>({x:Object.keys(e),y:Object.values(e),type:"scatter",mode:"lines+markers",name:a});(0,o.useEffect)(()=>{l&&!F&&C(Object.keys(l.chu.data).map(Number)[0]),l&&F&&E([P(l.chu.data[F],"CHU"),P(l.gdd0.data[F],"GDD - Base Temp. 0\xb0C"),P(l.gdd5.data[F],"GDD - Base Temp. 5\xb0C"),P(l.gdd10.data[F],"GDD - Base Temp. 10\xb0C"),P(l.gdd15.data[F],"GDD - Base Temp. 15\xb0C")])},[l,F]),(0,o.useEffect)(()=>{!h&&i&&v(Object.keys(i).map(Number)[0]),h&&i&&b(i[h])},[h,i]);let A=(0,o.useCallback)(O()(e=>{let a=e["xaxis.range"];void 0!==a&&g([Math.max(0,Math.round(a[0])),Math.min(365,Math.round(a[1]))])},1200),[]);return(0,o.useEffect)(()=>{if(N&&j){let[e,a]=N,s=S(j.precip.slice(e,a+1)),t=S(j.temp.slice(e,a+1)),l=S(j.dew.slice(e,a+1)),c=k(j.precip.slice(e,a+1)),i=k(j.temp.slice(e,a+1)),r=k(j.dew.slice(e,a+1));a-e+1>0?w({precip:"".concat(s.toFixed(2)," \xb1 ").concat(c.toFixed(2)),temp:"".concat(t.toFixed(2)," \xb1 ").concat(i.toFixed(2)),dew:"".concat(l.toFixed(2)," \xb1 ").concat(r.toFixed(2))}):w({precip:"",temp:"",dew:""})}},[N,j]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"".concat(d().className," text-accent-dark text-2xl pb-2"),children:"Climate"}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg "),children:"Precipitation, Temperature & Dew"}),j?(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-[40%]",children:(0,t.jsxs)("div",{className:"mt-8 p-4 mx-4",children:[(0,t.jsxs)("div",{className:"".concat(r().className," mb-4 flex justify-between"),children:[(0,t.jsx)("div",{children:"Summary of Selected Range"}),j&&N&&(0,t.jsxs)("div",{children:[j.x[N[0]]," - ",j.x[N[1]]]})]}),N&&y&&j&&(0,t.jsx)("div",{className:"",children:(0,t.jsx)(p,{headers:["Climate Variable","Average Over Selected Range"],data:[{v:"Precipitation",a:y.precip},{v:"Temperature",a:y.temp},{v:"Dew",a:y.dew}]})})]})}),(0,t.jsx)("div",{className:"w-[60%]",children:(0,t.jsxs)("div",{className:"flex-row justify-center items-center",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center text-center",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-8"),children:"Daily Average For Each Week of"}),i&&(0,t.jsx)("div",{className:"w-56",children:(0,t.jsx)(M.ZP,{value:null!=h?h:Object.keys(i).map(Number)[0],onChange:(e,a)=>v(a),min:Math.min(...Object.keys(i).map(Number)),max:Math.max(...Object.keys(i).map(Number)),step:1,marks:Object.keys(i).map(Number).map(e=>({value:e,label:e===Math.min(...Object.keys(i).map(Number))||e===Math.max(...Object.keys(i).map(Number))||e===h?e.toString():""})),valueLabelDisplay:"auto"})})]}),(0,t.jsx)("div",{className:"",children:j&&(0,t.jsx)(T,{data:[{z:[j.precip],x:j.x,y:[0],type:"heatmap",colorscale:"Blues",reversescale:!0,colorbar:{len:.3,y:.15},showscale:!0},{z:[j.temp],x:j.x,y:[1],type:"heatmap",colorscale:"Purples",colorbar:{len:.3,y:.5},showscale:!0},{z:[j.dew],x:j.x,y:[2],type:"heatmap",colorscale:"Greens",colorbar:{len:.3,y:.85},showscale:!0}],layout:{xaxis:{title:"Range Selection",tickvals:j.x.filter((e,a)=>a%30==0),rangeslider:{visible:!0},range:N},yaxis:{title:"",tickvals:[0,1,2],ticktext:["Precipitation (mm)","Temperature (\xb0C)","Dew (\xb0C)"]},margin:{t:10,b:100,l:120,r:0}},style:{width:"100%",height:"100%"},onRelayout:A})})]})})]}):(0,t.jsx)(f,{})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg "),children:"Temperature Suitability"}),l?(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-[40%]",children:(0,t.jsxs)("div",{className:"mt-8 p-4 mx-4",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4"),children:"End of Completed Season Averages"}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("div",{className:"",children:"Corn Heat Units (CHUs):"}),(0,t.jsx)("div",{children:"".concat(Math.round(l.chu.avg)," \xb1 ").concat(Math.round(l.chu.std))})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-row",children:[(0,t.jsx)("div",{children:"Growind Degree Days (GDDs)"}),(0,t.jsx)("div",{children:"Base Temp. 0\xb0C"})]}),(0,t.jsx)("div",{children:"".concat(Math.round(l.gdd0.avg)," \xb1 ").concat(Math.round(l.gdd0.std))})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-row",children:[(0,t.jsx)("div",{children:"Growind Degree Days (GDDs)"}),(0,t.jsx)("div",{children:"Base Temp. 5\xb0C"})]}),(0,t.jsx)("div",{children:"".concat(Math.round(l.gdd5.avg)," \xb1 ").concat(Math.round(l.gdd5.std))})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-row",children:[(0,t.jsx)("div",{children:"Growind Degree Days (GDDs)"}),(0,t.jsx)("div",{children:"Base Temp. 10\xb0C"})]}),(0,t.jsx)("div",{children:"".concat(Math.round(l.gdd10.avg)," \xb1 ").concat(Math.round(l.gdd10.std))})]}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-row",children:[(0,t.jsx)("div",{children:"Growind Degree Days (GDDs)"}),(0,t.jsx)("div",{children:"Base Temp. 15\xb0C"})]}),(0,t.jsx)("div",{children:"".concat(Math.round(l.gdd15.avg)," \xb1 ").concat(Math.round(l.gdd15.std))})]})]})}),(0,t.jsx)("div",{className:"w-[60%]",children:(0,t.jsxs)("div",{className:"flex-row justify-center items-center",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center text-center",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-8"),children:"Year:"}),(0,t.jsx)("div",{className:"w-56",children:(0,t.jsx)(M.ZP,{value:null!=F?F:l.years[0],onChange:(e,a)=>C(a),min:Math.min(...l.years),max:Math.max(...l.years),step:1,marks:l.years.map(e=>({value:e,label:e===Math.min(...l.years)||e===Math.max(...l.years)||e===F?e.toString():""})),valueLabelDisplay:"auto"})})]}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(T,{data:D,layout:{xaxis:{title:"Date"},yaxis:{title:"Cumulative Heat Units"},margin:{t:20,b:40,l:60,r:20},legend:{x:.02,y:.98,xanchor:"left",yanchor:"top",orientation:"v",bgcolor:"rgba(255, 255, 255, 0.5)"}},style:{width:"100%",height:"100%"}})})]})})]}):(0,t.jsx)(f,{})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg "),children:"Growing Season Length"}),c?(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-[40%]",children:(0,t.jsxs)("div",{className:"mt-8 mx-4",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4"),children:"Summary"}),(0,t.jsx)(p,{headers:["Variable","Average"],data:[{v:"Last Frost Date",a:"".concat(c.lastFrosts.avgStr," \xb1 ").concat(c.lastFrosts.std," days")},{v:"First Frost Date",a:"".concat(c.firstFrosts.avgStr," \xb1 ").concat(c.firstFrosts.std," days")},{v:"Growing Season Length",a:"".concat(c.seasons.avg," \xb1 ").concat(c.seasons.std," days")}]})]})}),(0,t.jsx)("div",{className:"w-[60%]",children:(0,t.jsxs)("div",{className:"flex-row",children:[(0,t.jsx)("div",{className:"".concat(r().className," w-full text-center"),children:"Completed Growing Seasons"}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(T,{data:[{x:c.x,y:c.y0,type:"bar",orientation:"v",marker:{color:"rgba(0,0,0,0)"},showlegend:!1,hoverinfo:"skip"},{x:c.x,y:c.y1,type:"bar",orientation:"v",hoverinfo:"text",text:c.desc,textposition:"none",marker:{color:"green"},showlegend:!1}],layout:{barmode:"stack",xaxis:{title:"Year",zeroline:!1,tickvals:c.x,range:[Math.min(...c.x)-1,Math.max(...c.x)+1]},yaxis:{title:"Date",tickvals:c.ylabels.map((e,a)=>a).filter((e,a)=>a%30==0),ticktext:c.ylabels.filter((e,a)=>a%30==0),range:[0,365]},margin:{t:0,b:40,l:100,r:0}},style:{width:"100%",height:"100%"}})})]})})]}):(0,t.jsx)(f,{})]})]})};function U(e){let{legend:a}=e;return(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("div",{className:"".concat(d().className," text-center mb-2 font-medium"),children:"Legend"}),Object.keys(a).map(e=>(0,t.jsxs)("div",{className:"legend-item flex items-center mb-1",children:[(0,t.jsx)("span",{className:"legend-color block w-4 h-4 mr-2",style:{backgroundColor:a[e]}}),(0,t.jsx)("span",{className:"legend-label",children:e})]},e))]})}var _=s(3223),Y=e=>{let{windDirection:a,windDirectionStdDev:s}=e,l=Math.round(a),c=Math.round(s);return(0,t.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute",children:(0,t.jsx)(_.Z,{className:"text-blue-600 h-40 w-40 pb-20",style:{transform:"rotate(".concat(l,"deg)")}})}),(0,t.jsx)("div",{className:"absolute",children:(0,t.jsx)(_.Z,{className:"text-blue-400 h-20 w-20 pb-10",style:{transform:"rotate(".concat(l+c,"deg)")}})}),(0,t.jsx)("div",{className:"absolute",children:(0,t.jsx)(_.Z,{className:"text-blue-400 h-20 w-20 pb-10",style:{transform:"rotate(".concat(l-c,"deg)")}})})]})};let B=(0,u.default)(()=>Promise.all([s.e(733),s.e(212),s.e(169)]).then(s.bind(s,9020)),{loadableGenerated:{webpack:()=>[9020]},ssr:!1});var W=e=>{var a,s,l,c,i,n,m,x,u;let{lat:h,lng:v,landUseData:b,elevationData:N,windData:g,bbox:w,score:S,setScore:k}=e,[F,D]=(0,o.useState)([]),[E,P]=(0,o.useState)(null),[A,O]=(0,o.useState)(null),[T,G]=(0,o.useState)(null),[_,W]=(0,o.useState)(null),[R,H]=(0,o.useState)("Elevation"),[z,L]=(0,o.useState)(null),[V,Z]=(0,o.useState)("Wind"),[I,K]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(b){let e=Object.keys(b).map(Number);D(e),E||P(e[0]);let a=Object.keys(b).length,{totalCropArea:s,totalArea:t}=Object.values(b).reduce((e,a)=>(a.cropArea&&(e.totalCropArea+=a.cropArea,e.totalArea+=a.area),e),{totalCropArea:0,totalArea:0});W(s/a*900),G(t/a*900)}},[b]),(0,o.useEffect)(()=>{b&&E&&O(b[E])},[b,E]),(0,o.useEffect)(()=>{if(N&&R)switch(R){case"Elevation":L(N.elevation);break;case"Slope":L(N.slope);break;case"Convexity":L(N.convexity)}},[N,R]),(0,o.useEffect)(()=>{if(V&&g)switch(V){case"Wind":K(g.wind);break;case"Gust":K(g.gust)}},[V,g]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"".concat(d().className," text-accent-dark text-2xl pb-2"),children:"Topography"}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg"),children:"Size & Layout"}),b&&w&&A?(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-[40%] mt-8 p-4",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 mx-4"),children:"Summary"}),(0,t.jsx)(p,{headers:["Land Section","% of Land","Area (m\xb2)","Area (ac)"],data:[{a:"Total Property",p:"100",a1:"".concat(null!==(i=null==T?void 0:T.toFixed(2))&&void 0!==i?i:""),a2:"".concat(((null!=T?T:0)/4046.8565).toFixed(2))},{a:"Historical Cropland",p:"".concat(((null!=_?_:0)/(null!=T?T:1)*100).toFixed(2)),a1:"".concat(null==_?void 0:_.toFixed(2)),a2:"".concat(((null!=_?_:0)/4046.8565).toFixed(2))},{a:"Other",p:"".concat((((null!=T?T:0)-(null!=_?_:0))/(null!=T?T:1)*100).toFixed(2)),a1:"".concat(((null!=T?T:0)-(null!=_?_:0)).toFixed(2)),a2:"".concat((((null!=T?T:0)-(null!=_?_:0))/4046.8565).toFixed(2))}]})]}),(0,t.jsx)("div",{className:"w-[60%] flex-row",children:(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"flex-row w-full",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center h-16",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-8"),children:"Year:"}),(0,t.jsx)("div",{className:"w-56",children:(0,t.jsx)(M.ZP,{value:null!=E?E:F[0],onChange:(e,a)=>P(a),min:Math.min(...F),max:Math.max(...F),step:1,marks:F.map(e=>({value:e,label:e===Math.min(...F)||e===Math.max(...F)||e===E?e.toString():""})),valueLabelDisplay:"auto"})})]}),h&&v&&w&&A.imageUrl&&(0,t.jsx)(B,{latitude:h,longitude:v,zoom:15,bbox:w,imageUrl:A.imageUrl})]}),(0,t.jsx)("div",{className:"ml-2 mt-8",children:(0,t.jsx)(U,{legend:A.legend})})]})})]}):(0,t.jsx)(f,{})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg"),children:"Elevation"}),N&&z&&w?(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-[40%] p-4 mt-8",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 mx-4"),children:"Summary"}),(0,t.jsx)(p,{headers:["Elevation View","Average"],data:[{view:"Elevation",avg:"".concat(N.elevation.avg.toFixed(2)," \xb1 ").concat(N.elevation.std.toFixed(2))},{view:"Slope",avg:"".concat(N.slope.avg.toFixed(5)," \xb1 ").concat(N.slope.std.toFixed(5))},{view:"Convexity",avg:"".concat(N.convexity.avg.toFixed(5)," \xb1 ").concat(N.convexity.std.toFixed(5))}]})]}),(0,t.jsx)("div",{className:"w-[60%] flex-row",children:(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center h-16",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-4"),children:"Elevation View:"}),(0,t.jsx)(j,{options:["Elevation","Slope","Convexity"],selected:R,onSelect:e=>H(e)})]}),h&&v&&w&&z.imageUrl&&(0,t.jsx)(B,{latitude:h,longitude:v,zoom:15,bbox:w,imageUrl:z.imageUrl})]}),(0,t.jsxs)("div",{className:"flex-row ml-2 justify-start items-center mt-16",children:[(0,t.jsx)("div",{className:"".concat(d().className," mb-2 text-center"),children:R}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(y,{vmin:z.min,vmax:z.max,numIntervals:5,heatmapColors:C})})]})]})})]}):(0,t.jsx)(f,{})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg"),children:"Wind Exposure"}),g&&I&&w?(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-[40%] p-4 mt-8",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 mx-4"),children:"Summary"}),(0,t.jsx)(p,{headers:["Exposure Type","Average"],data:[{type:"Wind Speed",avg:"".concat((null!==(n=null==g?void 0:null===(a=g.wind)||void 0===a?void 0:a.avg)&&void 0!==n?n:0).toFixed(2)," \xb1 ").concat((null!==(m=null==g?void 0:null===(s=g.wind)||void 0===s?void 0:s.std)&&void 0!==m?m:0).toFixed(2))},{type:"Wind Gust",avg:"".concat((null!==(x=null==g?void 0:null===(l=g.gust)||void 0===l?void 0:l.avg)&&void 0!==x?x:0).toFixed(2)," \xb1 ").concat((null!==(u=null==g?void 0:null===(c=g.gust)||void 0===c?void 0:c.std)&&void 0!==u?u:0).toFixed(2))}]}),(0,t.jsxs)("div",{className:"flex-row justify-center mx-4",children:[(0,t.jsx)("div",{className:"w-full mb-20",children:"Average ".concat(V," Direction (and Standard Deviation):")}),(0,t.jsx)("div",{className:"h-20",children:(0,t.jsx)(Y,{windDirection:I.avgDir,windDirectionStdDev:I.stdDir})})]})]}),(0,t.jsx)("div",{className:"w-[60%] flex-row",children:(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center h-16",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-4"),children:"Wind Exposure Type:"}),(0,t.jsx)(j,{options:["Wind","Gust"],selected:V,onSelect:e=>Z(e)})]}),h&&v&&w&&I.imageUrl&&(0,t.jsx)(B,{latitude:h,longitude:v,zoom:15,bbox:w,imageUrl:I.imageUrl})]}),(0,t.jsxs)("div",{className:"flex-row ml-2 justify-start items-center mt-16",children:[(0,t.jsx)("div",{className:"".concat(d().className," mb-2 text-center"),children:"Exposure"}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(y,{vmin:I.min,vmax:I.max,numIntervals:5,heatmapColors:C})})]})]})})]}):(0,t.jsx)(f,{})]})]})};let R=(0,u.default)(()=>Promise.all([s.e(733),s.e(212),s.e(169)]).then(s.bind(s,9020)),{loadableGenerated:{webpack:()=>[9020]},ssr:!1});var H=e=>{let{lat:a,lng:s,soilData:l,bbox:c,score:i,setScore:n}=e,[m,x]=(0,o.useState)("Taxonomy"),[u,h]=(0,o.useState)("Surface"),[v,b]=(0,o.useState)(null),[N,g]=(0,o.useState)("Water (Field Capacity / 33kPa)"),[w,S]=(0,o.useState)("Surface"),[k,F]=(0,o.useState)(null),[D,E]=(0,o.useState)("Water pH"),[P,M]=(0,o.useState)("Surface"),[A,O]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(m&&u&&l){if("Taxonomy"===m)b(l.taxonomy);else{let e=l.texture,a={Surface:"b0","10cm":"b10","30cm":"b30"}[u];a&&e[a]?b(e[a]):b(null)}}},[m,u,l]),(0,o.useEffect)(()=>{if(N&&w&&l){let e=null;switch(N){case"Water (Field Capacity / 33kPa)":e=l.water;break;case"Sand":e=l.sand;break;case"Clay":e=l.clay;break;case"Organic Carbon":e=l.carbon}let a=null;switch(w){case"Surface":a="b0";break;case"10cm":a="b10";break;case"30cm":a="b30"}e&&a&&F(e[a])}},[N,w,l]),(0,o.useEffect)(()=>{if(D&&P&&l){let e=null;switch(D){case"Water pH":e=l.ph;break;case"Bulk Density":e=l.density}let a=null;switch(P){case"Surface":a="b0";break;case"10cm":a="b10";break;case"30cm":a="b30"}e&&a&&O(e[a])}},[D,P,l]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"".concat(d().className," text-accent-dark text-2xl pb-2"),children:"Soil"}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg"),children:"Soil Classifications"}),v?(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-[40%] mt-8 p-4",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 mx-4"),children:"Summary"}),(0,t.jsx)(p,{headers:["Variable","Classifications Found"],data:[{v:"Taxonomy",c:Object.keys(l.taxonomy.legend).join(", ")},{v:"Texture at Surface",c:Object.keys(l.texture.b0.legend).join(", ")},{v:"Texture at 10cm",c:Object.keys(l.texture.b10.legend).join(", ")},{v:"Texture at 30cm",c:Object.keys(l.texture.b30.legend).join(", ")}]})]}),(0,t.jsx)("div",{className:"w-[60%] flex-row",children:(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center h-16",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-4"),children:"Classification Type:"}),(0,t.jsx)(j,{options:["Taxonomy","Texture"],selected:m,onSelect:e=>x(e)}),"Texture"===m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"".concat(r().className," mx-4"),children:" at "}),(0,t.jsx)(j,{options:["Surface","10cm","30cm"],selected:u,onSelect:e=>h(e)})]})]}),a&&s&&c&&v.imageUrl&&(0,t.jsx)(R,{latitude:a,longitude:s,zoom:15,bbox:c,imageUrl:v.imageUrl})]}),(0,t.jsx)("div",{className:"flex-row ml-2 justify-start items-center mt-16",children:(0,t.jsx)(U,{legend:v.legend})})]})})]}):(0,t.jsx)(f,{})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg"),children:"Soil Content"}),k?(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-[40%] mt-8 p-4",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 mx-4"),children:"Summary"}),(0,t.jsx)(p,{headers:["Variable","Average at Surface","Average at 10cm","Average at 30cm"],data:[{v:"Water Content at 33kPa, Field Capacity (%)",a1:"".concat(l.water.b0.avg.toFixed(2)," \xb1 ").concat(l.water.b0.std.toFixed(2)),a2:"".concat(l.water.b10.avg.toFixed(2)," \xb1 ").concat(l.water.b10.std.toFixed(2)),a3:"".concat(l.water.b30.avg.toFixed(2)," \xb1 ").concat(l.water.b30.std.toFixed(2))},{v:"Sand Content (% kg/kg)",a1:"".concat(l.sand.b0.avg.toFixed(2)," \xb1 ").concat(l.sand.b0.std.toFixed(2)),a2:"".concat(l.sand.b10.avg.toFixed(2)," \xb1 ").concat(l.sand.b10.std.toFixed(2)),a3:"".concat(l.sand.b30.avg.toFixed(2)," \xb1 ").concat(l.sand.b30.std.toFixed(2))},{v:"Clay Content (% kg/kg)",a1:"".concat(l.clay.b0.avg.toFixed(2)," \xb1 ").concat(l.clay.b0.std.toFixed(2)),a2:"".concat(l.clay.b10.avg.toFixed(2)," \xb1 ").concat(l.clay.b10.std.toFixed(2)),a3:"".concat(l.clay.b30.avg.toFixed(2)," \xb1 ").concat(l.clay.b30.std.toFixed(2))},{v:"Organic Carbon Content (5g/kg)",a1:"".concat(l.carbon.b0.avg.toFixed(2)," \xb1 ").concat(l.carbon.b0.std.toFixed(2)),a2:"".concat(l.carbon.b10.avg.toFixed(2)," \xb1 ").concat(l.carbon.b10.std.toFixed(2)),a3:"".concat(l.carbon.b30.avg.toFixed(2)," \xb1 ").concat(l.carbon.b30.std.toFixed(2))}]})]}),(0,t.jsx)("div",{className:"w-[60%] flex-row",children:(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center h-16",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-4"),children:"Content Type:"}),(0,t.jsx)(j,{options:["Water (Field Capacity / 33kPa)","Sand","Clay","Organic Carbon"],selected:N,onSelect:e=>g(e)}),(0,t.jsx)("div",{className:"".concat(r().className," mx-4"),children:" at "}),(0,t.jsx)(j,{options:["Surface","10cm","30cm"],selected:w,onSelect:e=>S(e)})]}),a&&s&&c&&k.imageUrl&&(0,t.jsx)(R,{latitude:a,longitude:s,zoom:15,bbox:c,imageUrl:k.imageUrl})]}),(0,t.jsxs)("div",{className:"flex-row ml-2 justify-start items-center mt-16",children:[(0,t.jsxs)("div",{className:"".concat(d().className," mb-2 text-center flex-row justify-center items-center text-center"),children:[(0,t.jsx)("div",{children:"Soil Content"}),(0,t.jsx)("div",{children:"Water (Field Capacity / 33kPa)"===N?"(%)":"Organic Carbon"===N?"(5g/kg)":"%  (kg/kg)"})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(y,{vmin:k.min,vmax:k.max,numIntervals:5,heatmapColors:C})})]})]})})]}):(0,t.jsx)(f,{})]}),(0,t.jsxs)("div",{className:"py-4 border-b border-gray-500",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-lg"),children:"Soil Attributes"}),A?(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-[40%] mt-8 p-4",children:[(0,t.jsx)("div",{className:"".concat(r().className," mb-4 mx-4"),children:"Summary"}),(0,t.jsx)(p,{headers:["Variable","Average at Surface","Average at 10cm","Average at 30cm"],data:[{v:"Soil Water pH (\xd710)",a1:"".concat(l.ph.b0.avg.toFixed(2)," \xb1 ").concat(l.ph.b0.std.toFixed(2)),a2:"".concat(l.ph.b10.avg.toFixed(2)," \xb1 ").concat(l.ph.b10.std.toFixed(2)),a3:"".concat(l.ph.b30.avg.toFixed(2)," \xb1 ").concat(l.ph.b30.std.toFixed(2))},{v:"Bulk Density (10 kg / m\xb3)",a1:"".concat(l.density.b0.avg.toFixed(2)," \xb1 ").concat(l.density.b0.std.toFixed(2)),a2:"".concat(l.density.b10.avg.toFixed(2)," \xb1 ").concat(l.density.b10.std.toFixed(2)),a3:"".concat(l.density.b30.avg.toFixed(2)," \xb1 ").concat(l.density.b30.std.toFixed(2))}]})]}),(0,t.jsx)("div",{className:"w-[60%] flex-row",children:(0,t.jsxs)("div",{className:"flex w-full",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-center items-center h-16",children:[(0,t.jsx)("div",{className:"".concat(r().className," mr-4"),children:"Attribute Type:"}),(0,t.jsx)(j,{options:["Water pH","Bulk Density"],selected:D,onSelect:e=>E(e)}),(0,t.jsx)("div",{className:"".concat(r().className," mx-4"),children:" at "}),(0,t.jsx)(j,{options:["Surface","10cm","30cm"],selected:P,onSelect:e=>M(e)})]}),a&&s&&c&&A.imageUrl&&(0,t.jsx)(R,{latitude:a,longitude:s,zoom:15,bbox:c,imageUrl:A.imageUrl})]}),(0,t.jsxs)("div",{className:"flex-row ml-2 justify-start items-center mt-16",children:[(0,t.jsx)("div",{className:"".concat(d().className," mb-2 text-center flex-row justify-center items-center text-center"),children:(0,t.jsx)("div",{children:"Water pH"===D?"pH (\xd710)":"10 kg / m\xb3"})}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(y,{vmin:A.min,vmax:A.max,numIntervals:5,heatmapColors:C})})]})]})})]}):(0,t.jsx)(f,{})]})]})};let z=e=>{let[a,s]=(0,o.useState)(null),[t,l]=(0,o.useState)(!0),[c,i]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(async()=>{try{l(!0);let a=await fetch("".concat(e,"/demoData.json"));if(!a.ok)throw Error("Failed to fetch data");let t=await a.json();s(t)}catch(e){i(e.message)}finally{l(!1)}})()},[e]),{demoData:a,isLoading:t,error:c}},L={street_number:"8159",route:"Side Road 30",locality:"Rockwood",administrative_area_level_3:"Centre Wellington",administrative_area_level_2:"Wellington County",administrative_area_level_1:"ON",country:"CA",postal_code:"N0B 2K0"};function V(){let[e,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(null),[i,n]=(0,o.useState)(null),[u,h]=(0,o.useState)(null),[j,b]=(0,o.useState)(null),[f,N]=(0,o.useState)(null),[g,y]=(0,o.useState)(null),[p,w]=(0,o.useState)(null),[S,k]=(0,o.useState)(null),[F,C]=(0,o.useState)(null),[D,E]=(0,o.useState)(null),[M,A]=(0,o.useState)(null),[O,T]=(0,o.useState)(null),[U,_]=(0,o.useState)(null),[Y,B]=(0,o.useState)(null),[R,V]=(0,o.useState)(null),[Z,I]=(0,o.useState)(null),[K,q]=(0,o.useState)(null),[$,J]=(0,o.useState)(null),[Q,X]=(0,o.useState)(null);(0,o.useEffect)(()=>{a("8159 Side Road 30, Wellington County, Ontario, N0B 2K0, Canada"),l(43.6929954),n(-80.3071343),h(L)},[]);let{demoData:ee,isLoading:ea,error:es}=z("/landwise_analytica");(0,o.useEffect)(()=>{console.log("Demo data:",ee),!ea&&ee&&(l(ee.latitude),n(ee.longitude),V(ee.bbox),b(ee.historicData),N(ee.projectedData),y(ee.cropHeatMapData),w(ee.heatUnitData),k(ee.growingSeasonData),C(ee.climateData),E(ee.elevationData),_(ee.landUseData),A(ee.windData),B(ee.soilData))},[ee,ea,es]);let[et,el]=(0,o.useState)("EstimatedYield");return(0,t.jsx)("div",{className:"".concat(c().className," bg-accent-light text-black"),children:(0,t.jsx)("div",{className:"relative m-4",children:(0,t.jsxs)(m,{className:"mb-4",children:[(0,t.jsxs)("section",{id:"summary",children:[(0,t.jsx)("div",{className:"".concat(r().className," text-accent text-2xl mb-2 w-full text-center"),children:"THIS IS A DEMO REPORT!"}),(0,t.jsx)("div",{className:"".concat(d().className," text-accent-dark text-3xl pb-2"),children:"Summary"}),(0,t.jsxs)("div",{className:"w-full sm:flex flex-row",children:[(0,t.jsxs)("div",{className:"w-[44%] p-4 mx-12",children:[(0,t.jsx)("div",{className:"".concat(r().className," flex justify-between mb-2 text-2xl"),children:"Property"}),(0,t.jsx)(x,{addressComponents:u,latitude:s,longitude:i})]}),(0,t.jsx)("div",{className:"w-[56%] p-4",children:(0,t.jsx)(v,{})})]})]}),(0,t.jsx)("div",{className:"flex justify-center space-x-8 border-b border-accent-dark mb-4 mt-10",children:["EstimatedYield","Climate","Topography","Soil"].map(e=>(0,t.jsx)("button",{onClick:()=>el(e),className:"py-2 px-4 w-48 rounded-t-lg ".concat(et===e?"bg-accent-dark text-white":"text-black"," hover:bg-accent-dark hover:opacity-75 hover:text-white"),children:e.replace(/([A-Z])/g," $1")},e))}),(0,t.jsx)("div",{children:(()=>{switch(et){case"EstimatedYield":return(0,t.jsx)(P,{lat:s,lng:i,historicData:j,projectedData:f,cropHeatMapData:g,bbox:R,score:Z,setScore:I});case"Climate":return(0,t.jsx)(G,{lat:s,lng:i,heatUnitData:p,growingSeasonData:S,climateData:F,score:K,setScore:q});case"Topography":return(0,t.jsx)(W,{lat:s,lng:i,landUseData:U,elevationData:D,windData:M,bbox:R,score:$,setScore:J});case"Soil":return(0,t.jsx)(H,{lat:s,lng:i,soilData:Y,bbox:R,score:Q,setScore:X});default:return null}})()})]})})})}}},function(e){e.O(0,[639,420,971,23,744],function(){return e(e.s=7225)}),_N_E=e.O()}]);